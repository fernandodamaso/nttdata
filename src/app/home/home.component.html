<app-header></app-header>

<main class="container py-4">
  <div class="row d-flex justify-content-center align-items-center">
    <div class="col-md-5">
      <form (ngSubmit)="newSearchMovie(movieSearch)">
        <div class="input-group mb-3">
          <i class="bi bi-search"></i>
          <input [(ngModel)]="movieSearch" name="movieSearch" type="text" class="form-control" placeholder="Search" />
          <button *ngIf="movieSearch" (click)="reset()" type="button" class="btn btn-primary reset"><i class="bi bi-x"></i></button>
          <!-- <button type="submit" class="btn btn-primary">Search</button> -->
        </div>
      </form>
    </div>
  </div>

  <div class="row title text-center" *ngIf="movieList.length == 0">
    <div class="col-md-12">
      <h1>Your Quick Movie Finder</h1>
      <p>Unleash the Power of Search with This Easy-to-Use Movie Database Explorer</p>
    </div>
  </div>

  <ul class="movieList" *ngIf="movieList.length > 0">
    <li *ngFor="let movie of movieList">
      <a (click)="getMovie(movie.imdbID)">{{ movie.Title }}</a>
    </li>
  </ul>

  <nav aria-label="Page navigation" *ngIf="totalResults > 10 && movieList.length > 0">
    <ul class="pagination justify-content-center">
      <li class="page-item active"><a class="page-link" [class.disabled]="page === 1" (click)="page > 1 && prevPage()">previous</a></li>
      <li class="page-item disabled">
        <p>{{ page }} of {{ totalPages }} pages</p>
      </li>
      <li class="page-item active"><a class="page-link" [class.disabled]="page === totalPages" (click)="page < totalPages && nextPage()">next</a></li>
    </ul>
  </nav>

  <app-movie *ngIf="selectedMovie" [movie]="selectedMovie"></app-movie>
</main>

<app-footer></app-footer>
